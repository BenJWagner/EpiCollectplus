{{style}}
<link type="text/css" rel="stylesheet" href="{#SITE_ROOT#}/css/jquery.timepicker.css"/>
<style type="text/css">
    /*img.desc {*/
    /*display: none;*/
    /*float: right;*/
    /*margin-top: 0.25em;*/
    /*}*/

    /*.desc img.desc {*/
    /*display: inline-block;*/
    /*}*/

    /*img.asc {*/
    /*display: none;*/
    /*float: right;*/
    /*margin-top: 0.25em;*/
    /*}*/

    /*.asc img.asc {*/
    /*display: inline-block;*/
    /*}*/

    /*.cp-item {*/
    /*vertical-align: top;*/
    /*display: inline-block;*/
    /*margin-left: 10px;*/
    /*}*/

    .cp-item img {
        margin: 0;
    }

    /*.entry {*/
    /*border-bottom: 1px solid #CCCCCC;*/
    /*background-color: #EEEEEE;*/
    /*margin: 0;*/
    /*padding: 5px 5px 5px 5px;*/

    /*}*/

    /*.no-location {*/
    /*font-style: italic;*/

    /*}*/

    /*.no-location:after {*/
    /*content: ' (no location)';*/
    /*}*/

    /*#timeText {*/
    /*width: 30em;*/
    /*}*/

    /*.button {*/
    /*padding: 0.25em 0.5em 0.25em 0.5em;*/
    /*margin: 0em 0.25em 0em 0.25em;*/
    /*background-color: #C7DFFC;*/
    /*border-radius: 0.25em;*/
    /*cursor: pointer;*/
    /*font-weight: bold;*/
    /*}*/

    .toggle label {
        margin: 0;
        padding: 0;
    }

    /*.progress-label {*/
    /*float: left;*/
    /*margin-left: 40%;*/
    /*margin-top: 5px;*/
    /*font-weight: bold;*/
    /*text-shadow: 1px 1px 0 #fff;*/
    /*}*/

    /*.toolbar-icon, .button-set img {*/
    /*height: 14px;*/
    /*}*/

    /*#mapTab {*/
    /*position: relative;*/
    /*}*/

    /*#map {*/
    /*position: relative;*/
    /*margin: -1em 16em 1em 15em;*/
    /*height: 30em;*/
    /*border: 1px solid #CCCCCC;*/
    /*left: 0;*/
    /*}*/

    /*#map-container {*/
    /*position: relative;*/
    /*}*/

    /*#bottombar {*/
    /*margin: 1em -6em 1em -0.5em;*/
    /*position: relative;*/
    /*height: 100%;*/
    /*padding: .5em .5em .5em .5em;*/
    /*}*/

    #bottombar div.filterControl, #bottombar div.colourControl {
        /*height: 8em;*/
        /*width: 30%;*/
        /*display: inline-block;*/
        /*border: 1px solid #CCCCCC;*/
        /*padding: 0.5em 0.5em 2em 0.5em;*/
        /*position: relative;*/
        /*vertical-align: top;*/
        /*margin: 1px;*/
    }

    #bottombar div.filterControl.active {
        display: inline-block;
        border: 2px solid #0000FF;
        margin: 0px;
    }

    /*#fieldSelector {*/
    /*left: 0;*/
    /*position: absolute;*/
    /*top: 1.5em;*/
    /*width: 15em;*/
    /*height: 1.5em*/
    /*}*/

    /*#fieldSelectorlabel {*/
    /*left: 0;*/
    /*position: absolute;*/
    /*top: 0;*/
    /*width: 15em;*/
    /*height: 1.5em*/
    /*}*/

    /*#sidebar {*/
    /*border: 1px solid #CCCCCC;*/
    /*bottom: 12em;*/
    /*overflow: auto;*/
    /*left: 0;*/
    /*position: absolute;*/
    /*top: 3.5em;*/
    /*bottom: 0em;*/
    /*width: 14em;*/
    /*}*/

    /*@media all and (max-width: 1024px) {*/
    /*#sidebar {*/
    /*display: none;*/
    /*}*/

    /*#map {*/
    /*margin-left: 0;*/
    /*}*/
    /*}*/

    /*#sidebar a {*/
    /*display: block;*/
    /*}*/

    /*#slider-range {*/
    /*margin: 0.5em 0.5em 0.5em 0.5em;*/
    /*border: 1px solid #CCCCFF !important;*/
    /*}*/

    /*.filterControl b {*/
    /*display: inline-block;*/
    /*width: 6em;*/
    /*}*/

    #graphOne {
        overflow: hidden;
        border: 1px solid #CCCCCC;
        margin: 1px 1px 1px 33em;
        height: 30em;
        background: rgba(255, 255, 255, 1);
        position: absolute;
        width: 75%;
        top: 0em;
        right: 0;
    }

    #graphOne.minimised, #map.minimised {
        width: 15em;
        height: 15em;
    }

    #graphOne.minimised .ecplus-settingspanel {
        display: none;
    }

    #graphOne.minimised.hover {
        background-color: #f5f5f5;
        cursor: pointer;
    }

    .minmax {
    position: absolute;
    bottom: 0px;
    left: 0px;
    z-index: 100;
    padding: 2px;
    }

    /*.hover .minmax {*/
    /*background-color: #f5f5f5;*/
    /*}*/

    /*.graphPanel
    {
        border: 1px solid #CCCCCC;
        position : relative;
        height : 32%;
        margin-bottom: 1px;
        overflow: hidden;
    }*/

    /*.button:active {*/
    /*background-color: #CCCCCC;*/
    /*}*/

    .clearFilter {
        display: none;
    }

    /*.active .clearFilter {*/
    /*display: inline-block;*/
    /*position: absolute;*/
    /*bottom: 0;*/
    /*right: 0;*/
    /*color: #FFFFFF;*/
    /*background: #0000FF;*/
    /*padding: 0.5em 0.5em 0.5em 0.5em;*/
    /*border-top-left-radius: 0.5em;*/
    /*font-weight: bold;*/
    /*}*/

    /*table.ibubble th {*/
    /*background: rgba(255, 255, 255, 1);*/
    /*color: rgba(0, 0, 0, 1);*/
    /*padding: 0.2em 0.2em 0.2em 0.2em;*/
    /*text-align: left;*/
    /*}*/

    /*.ecplus-table-footer .right {*/
    /*float: right;*/
    /*}*/

</style>
{{/style}}

{{script}}
{#mapScript#}
<script type="text/javascript">var SITE_ROOT = '{#SITE_ROOT#}';</script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/gpsPicker.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/jquery.controlgroup.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/jquery.settingspanel.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/jquery.mediainput.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/jquery.timepicker.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/raphael-min.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/graphics.js"></script>
<script type="text/javascript" src="{#SITE_ROOT#}/js/form-home.js">

</script>

{{/script}}

{{breadcrumbs}}
&gt; <a href="../{#projectName#}">Project : {#projectName#}</a> {#prevForm#} &gt; Form : {#formName#}
{{/breadcrumbs}}
{{main}}
<div id="tooltip" style="display:none;"></div>
<!--<div class="well well-sm">{#projectName#} - {#formName#}</div>-->
{#flashes#}
<div class="data-spinning-loader"><i class="fa fa-spinner fa-spin fa-3x"></i></div>
<div id="tabs">

    <ul>
        <li><a href="#tableTab">Table View</a>
        <li><a href="#mapTab">Map</a>
    </ul>
    <div id="tableTab">
        <p class="ecplus-toolbar form-inline">
            {#curationbuttons#}
            <span class="ecplus-toolbar-divider">&nbsp;</span>
            <label for="filter_fields">Filter List By</label><select id="filter_fields" class="fieldList form-control"></select> <input class="form-control" id="filter_value"/>
                                <span id="filterControls" class="button-set">
                                        <a href="javascript:doFilter($('#filter_fields').val(), $('#filter_value').val());" class="btn btn-default">
                                            <i class="fa fa-search "></i>
                                        </a>
                                        <a href="javascript:doFilter('','');" class="btn btn-default">Clear Filter</a>
                                </span>
            <!--<span class="ecplus-toolbar-divider">&nbsp;</span>-->
            <span id="showHideFields" class="ecplus-dropdown"></span>
            <span class="ecplus-toolbar-divider">&nbsp;</span>
            <span id="download-buttons" class="button-set pull-right">
                <a class="btn btn-default" href="./{#formName#}.csv" title="Download data as CSV">
                    <i class="fa fa-download fa-2x"></i> CSV
                </a>
                <a class="btn btn-default" href="./{#formName#}.tsv" title="Download data as TSV">
                    <i class="fa fa-download fa-2x"> </i>
                    TSV
                </a>
                <a class="btn btn-default" href="./{#formName#}.xml?mode=list" title="Download data as XML" target="__blank">
                    <i class="fa fa-download fa-2x"></i>
                    XML</a>
            </span>
        </p>

        <div class="ecplus-table-footer">
				<span class="left">
                                    <span id="forwardButtons" class="button-set">
					<a class="btn btn-default" href="javascript:firstPage();" title="Go to first page">
                        <img src="{#SITE_ROOT#}/images/glyphicons/glyphicons_170_step_backward.png" alt="first"/>
                    </a>
					<a class="btn btn-default" href="javascript:turnBackPage();" title="Go to previous page">
                        <img src="{#SITE_ROOT#}/images/glyphicons/glyphicons_350_playback.png" alt="previous"/>
                    </a>
                                    </span>
					<span id="start">

                    </span> to <span id="end"></span> of <span id="total"></span>
                                        <span id="backwardButtons" class="button-set">
                                            <a class="btn btn-default" href="javascript:getData();" title="Refresh entries">
                                                <img src="{#SITE_ROOT#}/images/glyphicons/glyphicons_081_refresh.png" alt="next"/>
                                            </a>

                                            <a class="btn btn-default" href="javascript:turnPage();" title="Go to next page">
                                                <img src="{#SITE_ROOT#}/images/glyphicons/glyphicons_173_play.png" alt="next"/>
                                            </a>
                                            <a class="btn btn-default" href="javascript:lastPage();" title="Go to final page">
                                                <img src="{#SITE_ROOT#}/images/glyphicons/glyphicons_178_step_forward.png" alt="last"/>
                                            </a>
                                    </span>
				</span>
				<span class="form-inline pull-right">
					Show <input class="form-control" type="number" maxlength="3" id="num_entries"/> entries per page
                    <a class="btn btn-default" class="btn" href="javascript:saveNumEntires();">Save as my default</a>
				</span>
        </div>
        {#csvform#}
    </div>
    <div id="mapTab">
        <!--<div id="progressbar">-->
        <!--<div class="progress-label">Getting Total no of Entries...</div>-->
        <!--</div>-->
        <div id="map-container" class="row">

            <div class="col-md-12 sidebar-list">

                <div class="panel panel-default ">
                    <div class="panel-heading">
                        <!--<h3 class="panel-title">Locations list:</h3>-->
                        <div class="form-inline">
                            <label for="fieldSelector" id="fieldSelectorLabel">Mapping locations: </label>
                            <select id="fieldSelector" class="form-control"></select>
                        </div>
                    </div>
                    <div class="panel-body">

                        <div id="sidebar" class="list-group ">
                        </div>

                        <div id="map">
                        </div>

                        <div id="graphOne" class="graphPanel minimised">
                        </div>

                    </div>
                </div>
            </div>

            <!--<div class="col-md-2">-->
            <!--<div class="panel panel-default">-->
            <!--<div class="panel-heading">-->
            <!--<h3 class="panel-title">Chart:</h3>-->
            <!--</div>-->
            <!--<div class="panel-body">-->
            <!---->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->


        </div>
        <div class="clearfix"></div>
        <div id="bottombar" class="row">
            <div class="col-md-4">
                <div id="timeFilter" class=" panel panel-default">
                    <div class="panel-heading">
                        <strong>Filter By Time</strong>
                    </div>
                    <div class="panel-body">
                        <div id="slider-range">
                            <!--slider goes here-->
                        </div>
                        <div class="time-range">
                            <div class="form-group form-group-sm">
                                <label for="timeFrom" class="control-label">From</label>
                                <input id="timeFrom" class="form-control" type="text" readonly>
                            </div>
                            <div class="form-group form-group-sm">
                                <label for="timeTo" class="control-label">To</label>
                                <input id="timeTo" class="form-control" type="text" readonly>
                            </div>

                        </div>
                        <div class="field-filter-controls pull-right">
                            <a class="clearFilter btn btn-default btn-sm" href="javascript:clearMapFilter();">Clear</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div id="fieldFilter" class=" panel panel-default">
                    <div class="panel-heading">
                        <strong>Filter By Field</strong>
                    </div>
                    <div class="panel-body">
                        <div class="form-group form-group-sm">
                            <label for="mapFilterField">Field</label>
                            <select id="mapFilterField" class="fieldList form-control"></select>
                        </div>
                        <div class="form-group form-group-sm">
                            <label for="mapFilterValue">Value</label>
                            <input id="mapFilterValue" class="form-control"/>
                        </div>
                        <div class="form-group field-filter-controls pull-right ">
                            <a href="javascript:doMapFieldFilter()" class="btn btn-default btn-sm">Apply</a>
                            <a href="javascript:clearMapFilter();" class="clearFilterbtn btn btn-default btn-sm">Clear</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div id="fieldColour" class=" panel panel-default">
                    <div class="panel-heading">
                        <strong>Colour By Field</strong>
                    </div>
                    <div class="panel-body">
                        <div class="form-group form-group-sm">
                            <label for="mapColourField">Field</label>
                            <select id="mapColourField" class="colourFieldList form-control"></select>
                        </div>
                        <div class="field-filter-controls pull-right">
                            <a href="javascript:colourMarkersBy($('#mapColourField').val())" class="btn btn-default btn-sm">Apply Colouring</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

{{/main}}